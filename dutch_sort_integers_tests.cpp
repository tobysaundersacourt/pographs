#include "dutch_sort_integers.hpp"

#include <iostream>

int main () {

    std::vector<std::vector<int>> test_vectors = {
        {5, 3, 8, 6, 2, 7, 4, 1},
        {5, 3, 8, 6, 5, 2, 7, 4, 5, 1},
        {1, 2, 3, 4, 5},
        {5, 4, 3, 2, 1},
        {2, 2, 2, 2, 2},
        {},
        {10, 9, 8, 7, 6, 5, 4, 3, 2, 1},
        {1},
        {100, 50, 50, 100, 25, 75},
        {0, -1, -2, -3, -4, -5},
        {-5, -4, -3, -2, -1, 0},
        {0, 0, 0, 0, 0, 0},
        {2147483647, -2147483648, 0, 123456, -123456},
        {1, 3, 5, 7, 9, 11, 13, 15},
        {15, 13, 11, 9, 7, 5, 3, 1},
        {1, 1, 2, 2, 3, 3, 4, 4, 5, 5},
        {5, 4, 4, 3, 3, 2, 2, 1, 1},
        {42},
        {7, 7, 7, 7, 7, 7, 7},
        {9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
        {1, 2, 1, 2, 1, 2, 1, 2},
        {1000, 999, 998, 997, 996, 995},
        {100, 200, 300, 400, 500, 600, 700, 800, 900, 1000},
        {1000, 900, 800, 700, 600, 500, 400, 300, 200, 100},
        {3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5},
        {2, 7, 1, 8, 2, 8, 1, 8, 2, 8},
        {0},
        {-100, 100, -100, 100, 0},
        {1, -1, 1, -1, 1, -1},
        {123, 456, 789, 101112, 131415},
        {101112, 789, 456, 123, 131415},
        {1, 2},
        {2, 1},
        {1, 1},
        {2, 2},
        {0, 1, 0, 1, 0, 1},
        {1, 0, 1, 0, 1, 0},
        {5, 10, 15, 20, 25, 30, 35, 40, 45, 50},
        {50, 45, 40, 35, 30, 25, 20, 15, 10, 5},
        {4, 3, 2, 1, 5},
        {1, 3, 2, 4, 5},
        {2, 1, 4, 3, 5},
        {5, 1, 2, 3, 4},
        {1, 5, 2, 4, 3},
        {3, 2, 1, 5, 4},
        {1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
        {10, 9, 8, 7, 6, 5, 4, 3, 2, 1},
        {1, 2, 3, 4, 5, 1, 2, 3, 4, 5},
        {5, 4, 3, 2, 1, 5, 4, 3, 2, 1},
        {1, 1, 1, 2, 2, 2, 3, 3, 3},
        {3, 3, 3, 2, 2, 2, 1, 1, 1},
        {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15},
        {15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0},
        {1, 2, 3, 2, 1, 2, 3, 2, 1},
        {2, 3, 1, 3, 2, 1, 3, 2, 1},
        {100, 99, 98, 97, 96, 95, 94, 93, 92, 91},
        {91, 92, 93, 94, 95, 96, 97, 98, 99, 100},
        {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1},
        {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10},
        {10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1},
        {1, 2, 3, 4, 5, 1, 2, 3, 4, 5, 1, 2, 3, 4, 5},
        {5, 4, 3, 2, 1, 5, 4, 3, 2, 1, 5, 4, 3, 2, 1},
        {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20},
        {20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1}
    };

    for (auto& test_vector : test_vectors) {
        std::cout << "Original vector: ";
        for (int value : test_vector) {
            std::cout << value << " ";
        }
        std::cout << std::endl;

        std::vector<std::vector<int>::iterator> sorted_iterators = dutch_sort(test_vector.begin(), test_vector.end());

        std::cout << "Transitions: ";
        for (auto it : sorted_iterators) {
            if (it != test_vector.end()) {
                std::cout << *it << " ";
            }
            else {
                std::cout << "_ ";
            }
        }
        std::cout << std::endl;

        std::cout << "Sorted vector: ";
        for (int value : test_vector) {
            std::cout << value << " ";
        }

        std::cout << std::endl;

        for (int i = 1; i < test_vector.size(); i++) {
            if (test_vector[i - 1] > test_vector[i]) {
                std::cout << "\033[1;31mError: The above vector not sorted correctly!\033[0m" << std::endl;
                break;
            }
        }

        std::cout << std::endl;
    }

    return 0;
}